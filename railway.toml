# Railway configuration for Soul Kiln
# https://docs.railway.com/reference/config-as-code
#
# DEPLOYMENT STEPS:
# 1. Deploy FalkorDB from Railway marketplace (one-click):
#    https://railway.com/deploy/falkordb
# 2. Deploy this repo as a new service
# 3. Add shared variable: FALKORDB_URL=${{FalkorDB.FALKORDB_PRIVATE_URL}}
# 4. (Optional) Add ANTHROPIC_API_KEY for Claude integration

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "python -m src.main serve"
healthcheckPath = "/health"
healthcheckTimeout = 300
numReplicas = 1
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
